<!DOCTYPE html>
<html>
<body style="margin:0;font:13px/1.4 Inter,ui-sans-serif">
  <div style="padding:12px">
    <h3 style="margin:0 0 8px">Import UI Spec JSON</h3>
    <textarea id="json" style="width:100%;height:260px;border:1px solid #e5e7eb;border-radius:8px;padding:8px" placeholder='Paste /design/ui-spec.json here'></textarea>
    <div style="margin-top:8px;display:flex;gap:8px">
      <button id="import">Import</button>
      <span id="status" style="color:#64748b"></span>
    </div>
  </div>
  <script>
    const status = document.getElementById("status");
    document.getElementById("import").onclick = () => {
      const payload = document.getElementById("json").value;
      parent.postMessage({ pluginMessage: { type: "import", payload } }, "*");
      status.textContent = "Importingâ€¦";
    };
    window.onmessage = (e) => {
      const msg = e.data.pluginMessage;
      if (!msg) return;
      if (msg.type === "done") status.textContent = "Done.";
      if (msg.type === "error") status.textContent = "Error: " + msg.message;
    };
  </script>
</body>
</html>
